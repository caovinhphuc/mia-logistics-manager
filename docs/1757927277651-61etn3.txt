# ğŸš€ MIA Logistics Manager - Scripts HÆ°á»›ng Dáº«n

## ğŸ“‹ Tá»•ng Quan

Dá»± Ã¡n MIA Logistics Manager cung cáº¥p cÃ¡c script tá»± Ä‘á»™ng Ä‘á»ƒ quáº£n lÃ½ viá»‡c khá»Ÿi Ä‘á»™ng, dá»«ng vÃ  restart toÃ n bá»™ há»‡ thá»‘ng.

## ğŸ› ï¸ CÃ¡c Script CÃ³ Sáºµn

### 1. `start-project.sh` - Khá»Ÿi Äá»™ng Dá»± Ãn

```bash
./start-project.sh
```

**Chá»©c nÄƒng:**

- âœ… Dá»n dáº¹p táº¥t cáº£ Node.js processes cÅ©
- âœ… Giáº£i phÃ³ng cÃ¡c port cáº§n thiáº¿t (3001, 5050, 3000)
- âœ… Kiá»ƒm tra mÃ´i trÆ°á»ng (Node.js, npm)
- âœ… Táº¡o file `.env` máº«u náº¿u chÆ°a cÃ³
- âœ… CÃ i Ä‘áº·t dependencies cho root vÃ  server
- âœ… Kiá»ƒm tra Google Service Account
- âœ… Khá»Ÿi Ä‘á»™ng Backend Server (port 5050)
- âœ… Khá»Ÿi Ä‘á»™ng Frontend (port 3001)
- âœ… Hiá»ƒn thá»‹ thÃ´ng tin káº¿t ná»‘i
- âœ… Theo dÃµi logs vÃ  xá»­ lÃ½ Ctrl+C

### 2. `stop-project.sh` - Dá»«ng Dá»± Ãn

```bash
./stop-project.sh
```

**Chá»©c nÄƒng:**

- ğŸ›‘ Dá»«ng táº¥t cáº£ Node.js processes
- ğŸ›‘ Giáº£i phÃ³ng cÃ¡c port (3001, 5050, 3000)
- ğŸ›‘ Force kill cÃ¡c process cÃ²n sÃ³t láº¡i
- ğŸ›‘ Kiá»ƒm tra vÃ  bÃ¡o cÃ¡o tráº¡ng thÃ¡i ports

### 3. `restart-project.sh` - Restart Dá»± Ãn

```bash
./restart-project.sh
```

**Chá»©c nÄƒng:**

- ğŸ”„ Dá»«ng dá»± Ã¡n hiá»‡n táº¡i
- ğŸ”„ Äá»£i 3 giÃ¢y Ä‘á»ƒ Ä‘áº£m báº£o dá»«ng hoÃ n toÃ n
- ğŸ”„ Khá»Ÿi Ä‘á»™ng láº¡i dá»± Ã¡n

## ğŸ¯ CÃ¡ch Sá»­ Dá»¥ng

### Khá»Ÿi Äá»™ng Láº§n Äáº§u

```bash
# Cáº¥p quyá»n thá»±c thi (chá»‰ cáº§n lÃ m 1 láº§n)
chmod +x *.sh

# Khá»Ÿi Ä‘á»™ng dá»± Ã¡n
./start-project.sh
```

### Quáº£n LÃ½ Dá»± Ãn

```bash
# Dá»«ng dá»± Ã¡n
./stop-project.sh

# Restart dá»± Ã¡n
./restart-project.sh

# Hoáº·c dá»«ng báº±ng Ctrl+C khi Ä‘ang cháº¡y start-project.sh
```

## ğŸ”§ Cáº¥u HÃ¬nh Cáº§n Thiáº¿t

### 1. File `.env`

Script sáº½ tá»± Ä‘á»™ng táº¡o file `.env` máº«u náº¿u chÆ°a cÃ³:

```env
VITE_GOOGLE_SHEETS_SPREADSHEET_ID=your_spreadsheet_id_here
VITE_GOOGLE_APPS_SCRIPT_URL=your_google_apps_script_url_here
SHEET_ID=your_spreadsheet_id_here
ACTIVE_SPREADSHEET_ID=your_spreadsheet_id_here
SERVICE_ACCOUNT_PATH=./server/service-account-key.json
PORT=5050
NODE_ENV=development
```

### 2. Google Service Account

Äáº·t file `service-account-key.json` vÃ o thÆ° má»¥c `server/`

### 3. Dependencies

Script sáº½ tá»± Ä‘á»™ng cÃ i Ä‘áº·t:

- Root project dependencies (`npm install`)
- Server dependencies (`cd server && npm install`)

## ğŸ“Š ThÃ´ng Tin Káº¿t Ná»‘i

Sau khi khá»Ÿi Ä‘á»™ng thÃ nh cÃ´ng:

- ğŸŒ **Backend API**: <http://localhost:5050>
- ğŸ“± **Frontend App**: <http://localhost:3001>
- ğŸ“Š **Google Sheets**: ÄÃ£ káº¿t ná»‘i
- ğŸ” **Báº£o máº­t**: ÄÃ£ kÃ­ch hoáº¡t

## ğŸš¨ Xá»­ LÃ½ Lá»—i

### Port ÄÃ£ ÄÆ°á»£c Sá»­ Dá»¥ng

```bash
# Script sáº½ tá»± Ä‘á»™ng giáº£i phÃ³ng port
# Náº¿u váº«n lá»—i, cháº¡y thá»§ cÃ´ng:
lsof -ti:3001 | xargs kill -9
lsof -ti:5050 | xargs kill -9
```

### Dependencies Lá»—i

```bash
# XÃ³a node_modules vÃ  cÃ i láº¡i
rm -rf node_modules server/node_modules
./start-project.sh
```

### Google Service Account Lá»—i

- Kiá»ƒm tra file `server/service-account-key.json` cÃ³ tá»“n táº¡i
- Kiá»ƒm tra quyá»n truy cáº­p Google Sheets
- Kiá»ƒm tra `SPREADSHEET_ID` trong `.env`

## ğŸ” Kiá»ƒm Tra Tráº¡ng ThÃ¡i

### Kiá»ƒm Tra Processes

```bash
# Xem táº¥t cáº£ Node.js processes
ps aux | grep node

# Xem processes trÃªn port cá»¥ thá»ƒ
lsof -i:3001
lsof -i:5050
```

### Kiá»ƒm Tra Logs

```bash
# Backend logs
tail -f server/logs/*.log

# Hoáº·c xem trá»±c tiáº¿p khi cháº¡y start-project.sh
```

## ğŸ“ Ghi ChÃº

- âœ… Scripts Ä‘Ã£ Ä‘Æ°á»£c tá»‘i Æ°u cho macOS/Linux
- âœ… Tá»± Ä‘á»™ng xá»­ lÃ½ cleanup khi dá»«ng
- âœ… Hiá»ƒn thá»‹ thÃ´ng bÃ¡o mÃ u sáº¯c trá»±c quan
- âœ… Kiá»ƒm tra mÃ´i trÆ°á»ng trÆ°á»›c khi khá»Ÿi Ä‘á»™ng
- âœ… Tá»± Ä‘á»™ng cÃ i Ä‘áº·t dependencies
- âœ… Xá»­ lÃ½ Ctrl+C Ä‘á»ƒ dá»«ng an toÃ n

## ğŸ†˜ Há»— Trá»£

Náº¿u gáº·p váº¥n Ä‘á»:

1. Kiá»ƒm tra file `.env` cÃ³ Ä‘Ãºng cáº¥u hÃ¬nh
2. Kiá»ƒm tra Google Service Account
3. Cháº¡y `./stop-project.sh` rá»“i `./start-project.sh`
4. Kiá»ƒm tra logs trong terminal
